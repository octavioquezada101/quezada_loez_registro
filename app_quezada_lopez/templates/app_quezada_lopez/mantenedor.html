{% extends 'app_quezada_lopez/base.html' %}

{% block contenido %}

{% load static %}

<style>
    .contenedor {
      padding-left: 100px;
    }
    
    .container {
      margin: 0px;
      padding: 0px 20px 20px 20px;
      background: #0a122a;
      color: white;
    }
    
    #customers {
      font-family: Arial, Helvetica, sans-serif;
      border-collapse: collapse;
      width: 100%;
    }
    
    #customers td,
    #customers th {
      border: 1px solid rgb(253, 252, 252);
      padding: 6px;
    }
    
    #customers tr:nth-child(even) {
      background-color: #152b6e;
    }
    
    #customers tr:hover {
      background-color: #ddd;
    }
    
    #customers th {
      padding-top: 12px;
      padding-bottom: 12px;
      text-align: left;
      background-color: #152b6e;
      color: white;
    }
    
    #customers #mid {
      text-align: center;
    }
    
    #customers #up,
    #customers #del,
    .container1 #new,
    .container #new3 {
      background-color: #007bff;
      border-color: white;
      border-radius: 5px;
      padding: 8px;
      color: white;
    }
    
    .container2 input {
      padding: 8px;
    }
    
    h1 {
      color: white;
    }
    
    .container {
      padding: 0px 20px;
    }
    
    @media screen and (min-width: 768px) {
      .container {
        padding: 0px 50px;
      }
    }
    
    @media screen and (min-width: 992px) {
      .container {
        padding: 0px 100px;
      }
    }
    
    @media screen and (min-width: 1200px) {
      .container {
        padding: 0px 150px;
      }
    }
    
    @media screen and (min-width: 1400px) {
      .container {
        padding: 0px 200px;
      }
    }
    
    @media screen and (min-width: 1600px) {
      .container {
        padding: 0px 250px;
      }
    }
</style>

<script>
    function confirmarEliminacion() {
        var confirmacion = confirm("¿Estás seguro que quieres eliminar el producto?");
        if (confirmacion) {
            return true;
        } else {
            return false;
        }
    }
</script>

<body>
    <div class="contenedor">
        <div class="container">
            <h1>Productos</h1>
            <table id="customers" border="1">
                <thead>
                    <th>Id</th>
                    <th>Nombre del producto</th>
                    <th>Descripción</th>
                    <th>Valor</th>
                    <th>Foto</th>
                    {% if user.is_superuser %}
                        <th colspan="2" id="mid">Realizar</th>
                    {% endif %}
                </thead>
                {% for x in pro %}
                  <tr>
                      <td>{{ x.id }}</td>
                      <td>{{ x.nombre_produ }}</td>
                      <td>{{ x.descripcion }}</td>
                      <td>{{ x.valor }}</td>
                      <td>
                          {% if x.foto %}
                              <img src="{{ x.foto.url }}" alt="Imagen del Producto" height="100px" width="100px">
                          {% else %}
                              Sin imagen
                          {% endif %}
                      </td>
                      {% if user.is_superuser %}
                          <td><a href="actualizar/{{ x.id }}"><button id="up">Actualizar</button></a></td>
                          <td>
                              <a href="eliminar/{{ x.id }}" onclick="return confirmarEliminacion();">
                                  <button id="del">Eliminar</button>
                              </a>
                          </td>
                      {% else %}
                      <td><a href="comprar/{{ x.id }}"><button id="up">comprar</button></a></td>
                      {% endif %}
                  </tr>
                {% endfor %}
            </table>
            <br>
            {% if user.is_superuser %}
                <a href="{% url 'agregar' %}"><button id="new3">Agregar Producto</button></a>
            {% endif %}
        </div>
    </div>  
</body>
{% endblock %}